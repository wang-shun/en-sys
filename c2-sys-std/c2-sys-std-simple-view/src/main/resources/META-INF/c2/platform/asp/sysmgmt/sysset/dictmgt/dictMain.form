<?xml version="1.0" encoding="UTF-8"?>
<form:Form xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dync="http://www.chinacreator.com/platform/mvc/ui/dync" xmlns:form="http://www.chinacreator.com/platform/mvc/form" name="字典管理" res="kd13ejALT1uflhwBlPxffA" sn="dictMain" type="form">
  <form:control type="page/normal">
    <form:attributes source="page/normal">
      <dync:attribute default="" group="HTML" id="showHead" name="显示标题" value="">
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="" group="HTML" id="title" name="标题" value="">
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="" group="HTML" id="desc" name="描述" value="">
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="" group="事件" id="onload" name="载入事件" value="">
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="false" group="HTML" id="fixedHeight" name="自动高度" value="true">
        <dync:children/>
      </dync:attribute>
    </form:attributes>
  </form:control>
  <form:child xsi:type="form:Group" id="newGroup1" name="简单容器(DIV)">
    <form:control type="container/div">
      <form:attributes source="container/div">
        <dync:attribute default="" group="高级自定义" id="style" name="自定义style" value="margin-top:5px;">
          <dync:children/>
        </dync:attribute>
      </form:attributes>
    </form:control>
  </form:child>
  <form:child xsi:type="form:Group" id="newGroup" name="字典类型">
    <form:control type="container/widgetbox">
      <form:attributes source="container/widgetbox">
        <dync:attribute default="12" group="布局配置" id="span" name="占位数" value="3">
          <dync:children/>
        </dync:attribute>
        <dync:attribute default="12px" group="布局配置" id="padding-left" name="左边距" value="0">
          <dync:children/>
        </dync:attribute>
        <dync:attribute default="12px" group="布局配置" id="padding-right" name="右边距" value="0">
          <dync:children/>
        </dync:attribute>
        <dync:attribute default="false" group="HTML配置" id="noPadding" name="无内边距" value="true">
          <dync:children/>
        </dync:attribute>
        <dync:attribute default="false" group="HTML配置" id="autoHeight" name="自动高度" value="true">
          <dync:children/>
        </dync:attribute>
      </form:attributes>
    </form:control>
    <form:child xsi:type="form:Group" id="newGroup6" name="Widget工具条">
      <form:control type="container/toolbar_widget">
        <form:attributes source="container/toolbar_widget"/>
      </form:control>
      <form:child xsi:type="form:Field" id="newField12" name="新增" res="iZUcQY2gTYyGE08CESp6dg" customize="true">
        <form:control type="widget/button">
          <form:attributes source="widget/button">
            <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="addDictType()">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-plus">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="purple">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Group" id="newGroup2" name="普通工具条">
        <form:control type="container/toolbar">
          <form:attributes source="container/toolbar">
            <dync:attribute default="normal" group="基本设置" id="type" name="类型" value="dropdown">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:child xsi:type="form:Field" id="newField8" name="编辑" res="ufKLkPcKT1GBiocitZ36eg" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="editDictType()">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-pencil">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField9" name="删除" res="t9jOyfLqQs6VfmgOjfexlg" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="delDictType()">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-trash-o">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="red">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField13" name="刷新" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="refreshTree()">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-refresh">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="green">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Field" binding="model.dictTypeTree" id="dictTypeTree" name="树控件" customize="true">
      <form:control type="widget/tree">
        <form:attributes source="widget/tree">
          <dync:attribute default="6" group="HTML设置" id="span" name="占位数" value="12">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="pId" group="数据设置" id="simpleDataPid" name="简单数据pId" value="pid">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="examples/zTree.json" group="数据设置" id="url" name="远程数据" value="">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeClick" name="单击" value="dictTypeTree_nodeClick(event, treeId, treeNode)">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeDbClick" name="双击" value="editDictType()">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="数据设置" id="async" name="异步加载" value="false">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeDblClick" name="双击" value="editDictType()">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="显示设置" id="expendLevel" name="默认展开级数" value="1">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="auto" group="显示设置" id="height" name="高度" value="">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="显示设置" id="computeHeight" name="自动计算高度" value="true">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="12" group="显示设置" id="computeHeightFix" name="高度修正" value="0">
            <dync:children/>
          </dync:attribute>
        </form:attributes>
      </form:control>
      <form:validation/>
    </form:child>
  </form:child>
  <form:child xsi:type="form:Group" id="newGroup3" name="简单容器(DIV)">
    <form:control type="container/div">
      <form:attributes source="container/div">
        <dync:attribute default="12" group="HTML配置" id="span" name="占位数" value="9">
          <dync:children/>
        </dync:attribute>
      </form:attributes>
    </form:control>
    <form:child xsi:type="form:Group" id="searchDiv" name="简单容器(DIV)">
      <form:control type="container/div">
        <form:attributes source="container/div">
          <dync:attribute default="" group="高级自定义" id="style" name="自定义style" value="padding-top:10px;">
            <dync:children/>
          </dync:attribute>
        </form:attributes>
      </form:control>
      <form:child xsi:type="form:Field" binding="$model.search.dictdataName" id="dictdataName_Field" name="字典真实值：">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="6" group="基本设置" id="span" name="占位数" value="4">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="75" group="基本设置" id="lableWidth" name="左外边距" value="100">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.search.dictdataValue" id="dictdataValue_Field" name="字典显示值：">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="6" group="基本设置" id="span" name="占位数" value="4">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="75" group="基本设置" id="lableWidth" name="左外边距" value="100">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.search.dictdataIsdefault" id="dictdataIsdefault_Field" name="是否默认值：">
        <form:control type="widget/select_simple">
          <form:attributes source="widget/select_simple">
            <dync:attribute default="6" group="基本设置" id="span" name="占位数" value="4">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="75" group="基本设置" id="lableWidth" name="lable宽度" value="100">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="下拉框设置" id="selectOptions" name="选项" value="{&quot;true&quot;:&quot;是&quot;,&quot;false&quot;:&quot;否&quot;}">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="下拉框设置" id="nullValue" name="空值选项" value=" ">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Group" id="newGroup5" name="普通工具条">
        <form:control type="container/toolbar">
          <form:attributes source="container/toolbar">
            <dync:attribute default="center" group="基本设置" id="position" name="按钮位置" value="pull-right">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:child xsi:type="form:Field" id="newField21" name="查询" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-search">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="searchDictData()">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField22" name="重置" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-refresh">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="resetSearchDictData()">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Group" binding="model.dictDataList" id="dictDataGroup" name="jqgrid表格">
      <form:control type="container/table_jqgrid">
        <form:attributes source="container/table_jqgrid">
          <dync:attribute default="post" group="HTML配置" id="mtype" name="提交方式" value="get">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="HTML配置" id="multiSort" name="多列排序" value="true">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="表格名称" group="HTML配置" id="caption" name="表头" value="字典数据">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="表格设置" id="filterToolbar" name="工具栏查询" value="true">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="高级功能" id="sortServer" name="排序服务" value="sortDict">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonAdd" name="新增按钮" value="false">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonEdit" name="编辑按钮" value="false">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonView" name="查看按钮" value="false">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonDel" name="删除按钮" value="false">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonSearch" name="查询按钮" value="false">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonRefresh" name="刷新按钮" value="false">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件" id="ondblClickRow" name="双击行" value="editDictData()">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="表格设置" id="toolbarShow" name="工具栏显示" value="false">
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="表格设置" id="searchDIV" name="搜索DIV" value="searchDiv">
            <dync:children/>
          </dync:attribute>
        </form:attributes>
      </form:control>
      <form:child xsi:type="form:Group" id="toolbar_table" name="toolbar_table">
        <form:control type="container/toolbar_table">
          <form:attributes source="container/toolbar_table"/>
        </form:control>
        <form:child xsi:type="form:Field" id="newField" name="新增" res="-m9cvdoeSKugGedaGhLr0w" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-plus">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="purple">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="单击事件" value="addDictData()">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField4" name="编辑" res="TKiN5cJNSSGgfOfTALCIVA" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-pencil">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="单击事件" value="editDictData()">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField17" name="删除" res="W1KpBWR-RNyWDL90_esRHQ" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-trash-o">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="red">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="单击事件" value="delDictData()">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField18" name="排序" res="xCpggF-7QTaEoD5LyL5dhQ" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-sort">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="单击事件" value="sortDictData()">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField19" name="查询" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="custom" group="事件设置" id="clickType" name="事件类型" value="expend">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-search">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="light-blue">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField20" name="刷新" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="custom" group="事件设置" id="clickType" name="事件类型" value="refrash">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-refresh">
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="green">
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
      <form:child xsi:type="form:Field" binding="dictdataName" id="newField7" name="字典真实值" customize="true">
        <form:control type="widget/col_jqgrid">
          <form:attributes source="widget/col_jqgrid">
            <dync:attribute default="false" group="HTML设置" id="search" name="搜索" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="HTML设置" id="sortable" name="排序" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Field" binding="dictdataValue" id="newField5" name="字典显示值" customize="true">
        <form:control type="widget/col_jqgrid">
          <form:attributes source="widget/col_jqgrid">
            <dync:attribute default="false" group="HTML设置" id="search" name="搜索" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="HTML设置" id="sortable" name="排序" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Field" binding="dictdataIsdefault" id="newField6" name="是否默认值" customize="true">
        <form:control type="widget/col_jqgrid">
          <form:attributes source="widget/col_jqgrid">
            <dync:attribute default="false" group="HTML设置" id="search" name="搜索" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="HTML设置" id="sortable" name="排序" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="格式设置" id="formatter" name="预定格式" value="select">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="格式设置" id="formatoptions" name="预定格式设置" value="{value:&quot;false:否;true:是&quot;}">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="查询设置" id="searchValue" name="可选值" value="{&quot; &quot;:&quot;&quot;,&quot;true&quot;:&quot;是&quot;,&quot;false&quot;:&quot;否&quot;}">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="查询设置" id="searchDefaultvalue" name="默认值" value=" ">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="text" group="查询设置" id="searchType" name="查询框" value="select">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Field" binding="dictdataId" id="newField2" name="字典数据ID" customize="true">
        <form:control type="widget/col_jqgrid">
          <form:attributes source="widget/col_jqgrid">
            <dync:attribute default="false" group="表格设置" id="hidden" name="隐藏列" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="表格设置" id="key" name="主列" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Field" binding="dicttypeId" id="newField3" name="字典类型ID" customize="true">
        <form:control type="widget/col_jqgrid">
          <form:attributes source="widget/col_jqgrid">
            <dync:attribute default="false" group="表格设置" id="hidden" name="隐藏列" value="true">
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
    </form:child>
  </form:child>
  <form:datasources>
    <form:datasource xsi:type="form:Inputs"/>
    <form:datasource xsi:type="form:TreeDataSource" id="dictTypeTree" name="字典类型树" impl="com.chinacreator.asp.sysmgmt.sysset.dictmgt.DictTypeTreeContentProviderImpl" type="custom"/>
    <form:datasource xsi:type="form:PagingDataSource" id="dictDataList" name="字典数据列表" logic="com.chinacreator.asp.sysmgmt.sysset.dictmgt.DictDataArrayContentProviderImpl" pageSize="10" type="custom"/>
  </form:datasources>
  <form:scripts>// 获取字典类型树
getDictTypeTree:function(){
	return $view.dictTypeTree;
},
// 获取字典数据列表
getDictDataGroup:function(){
	return $view.dictDataGroup;
},
// 字典类型树点击事件
dictTypeTree_nodeClick:function(event, treeId, treeNode){
	if(angular.isUndefined($model.search)){
		$model.search = {};
	}
	$model.search.dtypeId = treeNode.id;
	this.getDictDataGroup().refresh({&quot;dtypeId&quot;:treeNode.id});
},
// 新增字典类型
addDictType:function(){
	var _this = this;
	Modal.open('f/editDictType',{type:&quot;add&quot;,dictTypeId:&quot;&quot;},function(result){
		if('success'==result){
	    	_this.refreshTree();
	    }
	});	
},
// 编辑字典类型
editDictType:function(){
	var selectNodes = this.getDictTypeTree().getSelectedNodes();
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){
		if(selectNodes.length>1){
			Messenger.post({
			    'message': &quot;请仅选择一个需要编辑的字典类型！&quot;,
			    'type': 'error',
			});
			return;
		}
		var selectNode = selectNodes[0]; 
		if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.id)){
			Messenger.post({
			    'message': &quot;请选择需要编辑的字典类型！&quot;,
			    'type': 'error',
			});
		}else if(&quot;0&quot;==selectNode.id){
			Messenger.post({
			    'message': selectNode.name+&quot;不允许被编辑！&quot;,
			    'type': 'error',
			});
		}else{
			var _this = this;
			Modal.open('f/editDictType',{type:&quot;edit&quot;,dictTypeId:selectNode.id},function(result){
				if('success'==result){
			    	_this.refreshTree();
			    }
			});	
		}
	}else{
		Messenger.post({
		    'message': &quot;请选择需要编辑的字典类型！&quot;,
		    'type': 'error',
		});	
	}
},
// 删除字典类型
delDictType:function(){
	var selectNodes = this.getDictTypeTree().getSelectedNodes();
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){
		var dicttypeIds = [];
		var dicttypeNames = &quot;&quot;;
		var _this = this;
		var delErrMess = &quot;&quot;;
		angular.forEach(selectNodes, function (value, key) {
				dicttypeIds.push(value.id);
				dicttypeNames += value.name+&quot;,&quot;;
				if(&quot;0&quot;==value.id){
					delErrMess = value.name;
				}
        	});
        if(delErrMess.length>0){
        	Messenger.post({
	                'message': delErrMess + &quot;不允许被删除！&quot;,
	                'type': 'error',
	            });
	        return;
        }
        Modal.openDelConfirm({message:&quot;是否确认删除字典类型?&lt;br>待删除字典类型：&quot;+dicttypeNames.substring(0, dicttypeNames.length-1)},function(){
        	$http.post(&quot;ws/delDictType&quot;,{dictTypeIds:dicttypeIds})
        			.success(function(data, status, headers, config){
						Messenger.post({
			                'message': &quot;删除字典类型成功！&quot;,
			                'type': 'success',
			            });
			            _this.refreshTree();
			            _this.refreshGroup();
					});
        });		
	}else{
		Messenger.post({
		    'message': &quot;请选择需要删除的字典类型！&quot;,
		    'type': 'error',
		});
	}
},
// 刷新字典类型树
refreshTree:function(){
	this.getDictTypeTree().reAsyncChildNodes(null,&quot;refresh&quot;,false);
},
// 新增字典数据
addDictData:function(){
	var selectNode = this.getDictTypeTree().getSelectedNodes()[0]; 
	if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.id)){
		Messenger.post({
		    'message': &quot;请选择字典类型！&quot;,
		    'type': 'error',
		});
	}else{
		var _this = this;
		Modal.open('f/editDictData',{type:&quot;add&quot;,dictTypeId:selectNode.id,dictDataId:&quot;&quot;},function(result){
			if('success'==result){
		    	_this.refreshGroup();
		    }
		});	
	}	
},
// 编辑字典数据
editDictData:function(){
	var selectNodes = this.getDictDataGroup().getSelectDatas();
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){
		if(selectNodes.length>1){
			Messenger.post({
			    'message': &quot;请仅选择一个需要编辑的字典数据！&quot;,
			    'type': 'error',
			});
			return;
		}
		var selectNode = selectNodes[0]; 
		if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.dictdataId)){
			Messenger.post({
			    'message': &quot;请选择需要编辑的字典数据！&quot;,
			    'type': 'error',
			});
		}else{
			var _this = this;
			Modal.open('f/editDictData',{type:&quot;edit&quot;,dictTypeId:selectNode.dicttypeId,dictDataId:selectNode.dictdataId},function(result){
				if('success'==result){
			    	_this.refreshGroup();
			    }
			});	
		}
	}else{
		Messenger.post({
		    'message': &quot;请选择需要编辑的字典数据！&quot;,
		    'type': 'error',
		});
	}
},
// 删除字典数据
delDictData:function(){
	var selectNodes = this.getDictDataGroup().getSelectDatas();
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){
		var dictdataIds = [];
		var dictdataNames = &quot;&quot;;
		var _this = this;
		angular.forEach(selectNodes, function (value, key) {
				dictdataIds.push(value.dictdataId);
				dictdataNames += value.dictdataName+&quot;,&quot;;
        	});
        Modal.openDelConfirm({message:&quot;是否确认删除字典数据? &lt;br>待删除字典数据：&quot;+dictdataNames.substring(0, dictdataNames.length-1)},function(){
        	$http.post(&quot;ws/delDictData&quot;,{dictDataIds:dictdataIds})
        			.success(function(data, status, headers, config){
						Messenger.post({
			                'message': &quot;删除字典数据成功！&quot;,
			                'type': 'success',
			            });
			            _this.refreshGroup();
					});
        });		
	}else{
		Messenger.post({
		    'message': &quot;请选择需要删除的字典数据！&quot;,
		    'type': 'error',
		});
	}
},
// 字典数据排序
sortDictData:function(){
	var sortable = $model.sortDictData;	
	if(angular.isUndefined(sortable)){
		sortable = false;
	}	
	$model.sortDictData = !sortable;
	Messenger.post({
		    'message': (sortable?&quot;关闭&quot;:&quot;开启&quot;)+&quot;字典数据排序功能！&quot;,
		    'type': 'info',
		});
	var _this = this;	
	_this.getDictDataGroup().setSortRow(!sortable,function(){
		var rowNum = _this.getDictDataGroup().getGridParam(&quot;rowNum&quot;);
		var page = _this.getDictDataGroup().getGridParam(&quot;page&quot;);
		var ids = _this.getDictDataGroup().getDataIDs();
		$http.post(&quot;ws/sortDict&quot;,{&quot;rowNum&quot;:rowNum,&quot;page&quot;:page,&quot;ids&quot;:ids})
				.success(function(data, status, headers, config){
					Messenger.post({
		                'message': &quot;字典数据排序保存成功！&quot;,
		                'type': 'success',
		            });	            
				});
	});
},
// 查询字典数据
searchDictData:function(){	
	this.getDictDataGroup().refresh($model.search);
},
// 查询字典数据重置
resetSearchDictData:function(){
	$view.dictdataName_Field.clean();
	$view.dictdataValue_Field.clean();
	$view.dictdataIsdefault_Field.clean();
},
// 刷新字典数据列表
refreshGroup:function(){
	this.getDictDataGroup().refresh();
}</form:scripts>
</form:Form>
