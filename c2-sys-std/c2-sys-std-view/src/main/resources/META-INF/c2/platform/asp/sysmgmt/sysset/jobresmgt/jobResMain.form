<?xml version="1.0" encoding="UTF-8"?>
<form:Form xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dync="http://www.chinacreator.com/platform/mvc/ui/dync" xmlns:form="http://www.chinacreator.com/platform/mvc/form" name="岗位资源管理" res="YWRDOyIBS826rltHSFMN2g" sn="jobResMain" type="form">
  <form:control type="page/normal">
    <form:attributes source="page/normal">
      <dync:attribute default="" group="HTML" id="showHead" name="显示标题" value="">
        <dync:render/>
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="" group="HTML" id="title" name="标题" value="">
        <dync:render/>
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="" group="HTML" id="desc" name="描述" value="">
        <dync:render/>
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="false" group="HTML" id="compact" name="紧凑页面" value="false">
        <dync:render/>
        <dync:children/>
      </dync:attribute>
      <dync:attribute default="false" group="HTML" id="fixedHeight" name="自动高度" value="true">
        <dync:render/>
        <dync:children/>
      </dync:attribute>
    </form:attributes>
  </form:control>
  <form:child xsi:type="form:Group" id="newGroup1" name="简单容器(DIV)">
    <form:control type="container/div">
      <form:attributes source="container/div">
        <dync:attribute default="" group="高级自定义" id="style" name="自定义style" value="margin-top:5px;">
          <dync:render/>
          <dync:children/>
        </dync:attribute>
      </form:attributes>
    </form:control>
  </form:child>
  <form:child xsi:type="form:Group" id="newGroup" name="机构管理">
    <form:control type="container/widgetbox">
      <form:attributes source="container/widgetbox">
        <dync:attribute default="12" group="布局配置" id="span" name="占位数" value="3">
          <dync:render/>
          <dync:children/>
        </dync:attribute>
        <dync:attribute default="false" group="HTML配置" id="autoHeight" name="自动高度" value="true">
          <dync:render/>
          <dync:children/>
        </dync:attribute>
        <dync:attribute default="false" group="HTML配置" id="noPadding" name="无内边距" value="true">
          <dync:render/>
          <dync:children/>
        </dync:attribute>
      </form:attributes>
    </form:control>
    <form:child xsi:type="form:Group" id="newGroup4" name="WidgetBox">
      <form:control type="container/toolbar_widget">
        <form:attributes source="container/toolbar_widget"/>
      </form:control>
      <form:child xsi:type="form:Field" id="newField5" name="新增" res="wx3UiiK_S5irMlM2QinEYA" customize="true">
        <form:control type="widget/button">
          <form:attributes source="widget/button">
            <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="addOrg()">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-plus">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="purple">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Group" id="newGroup7" name="普通工具条">
        <form:control type="container/toolbar">
          <form:attributes source="container/toolbar">
            <dync:attribute default="normal" group="基本设置" id="type" name="类型" value="dropdown">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:child xsi:type="form:Field" id="newField3" name="编辑" res="S1Flre1lTqm5uAs9XpgrCg" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="editOrg()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-pencil">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField2" name="删除" res="sjoiifh8TQ-wPcqmqnyvng" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="delOrg()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-trash-o">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="red">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField4" name="排序" res="mRNJWVmfSoaZ41at6i4VHg" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="sortOrgTree()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-sort">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField1" name="刷新" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="refreshOrgTree()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-refresh">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="green">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Field" binding="model.orgTree" id="orgTree" name="树控件" customize="true">
      <form:control type="widget/tree">
        <form:attributes source="widget/tree">
          <dync:attribute default="6" group="显示设置" id="span" name="占位数" value="12">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="examples/zTree.json" group="数据设置" id="url" name="远程数据" value="orgController/getOrgTree">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="pId" group="数据设置" id="simpleDataPid" name="简单数据pId" value="pid">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="数据设置" id="otherParam" name="手动参数" value="">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="[&quot;id&quot;]" group="数据设置" id="autoParam" name="自动参数" value="[&quot;id&quot;,&quot;pid&quot;]">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeClick" name="单击" value="orgTree_nodeClick(event, treeId, treeNode)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="显示设置" id="expendLevel" name="默认展开级数" value="1">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeDblClick" name="双击" value="editOrg()">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="功能设置" id="dragEnable" name="拖拽" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="功能设置" id="editorEnable" name="编辑" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="功能设置" id="dragInner" name="拖拽为子节点" value="orgTree_dragInner(treeId,treeNodes,targetNode)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="beforeDrag" name="拖拽前" value="orgTree_beforeDrag(treeId,treeNodes)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="beforeDrop" name="拖拽结束前" value="orgTree_beforeDrop(treeId, treeNodes, targetNode, moveType, isCopy)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="功能设置" id="dragMove" name="拖拽移动" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeDrop" name="拖拽结束" value="orgTree_nodeDrop(event,treeId,treeNodes,targetNode,moveType,isCopy)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="auto" group="显示设置" id="height" name="高度" value="">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="显示设置" id="computeHeight" name="自动计算高度" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="12" group="显示设置" id="computeHeightFix" name="高度修正" value="0">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
        </form:attributes>
      </form:control>
      <form:validation/>
    </form:child>
  </form:child>
  <form:child xsi:type="form:Group" id="newGroup9" name="简单容器(DIV)">
    <form:control type="container/div">
      <form:attributes source="container/div">
        <dync:attribute default="12" group="HTML配置" id="span" name="占位数" value="6">
          <dync:render/>
          <dync:children/>
        </dync:attribute>
      </form:attributes>
    </form:control>
    <form:child xsi:type="form:Group" id="searchDiv" name="简单容器(DIV)">
      <form:control type="container/div">
        <form:attributes source="container/div">
          <dync:attribute default="" group="高级自定义" id="style" name="自定义style" value="padding-top:10px;">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
        </form:attributes>
      </form:control>
      <form:child xsi:type="form:Field" binding="$model.search.jobName" id="jobName_Field" name="岗位名称：">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="75" group="基本设置" id="lableWidth" name="左外边距" value="100">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Field" binding="$model.search.jobDesc" id="jobDesc_Field" name="岗位描述：">
        <form:control type="widget/text">
          <form:attributes source="widget/text">
            <dync:attribute default="75" group="基本设置" id="lableWidth" name="左外边距" value="100">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
      </form:child>
      <form:child xsi:type="form:Group" id="newGroup10" name="普通工具条">
        <form:control type="container/toolbar">
          <form:attributes source="container/toolbar">
            <dync:attribute default="center" group="基本设置" id="position" name="按钮位置" value="pull-right">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:child xsi:type="form:Field" id="newField26" name="查询" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-search">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="searchJob()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField27" name="重置" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-refresh">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="resetSearchJob()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Group" binding="model.jobList" id="jobGroup" name="jqgrid表格">
      <form:control type="container/table_jqgrid">
        <form:attributes source="container/table_jqgrid">
          <dync:attribute default="true" group="功能按钮" id="buttonView" name="查看按钮" value="false">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonEdit" name="编辑按钮" value="false">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonAdd" name="新增按钮" value="false">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonDel" name="删除按钮" value="false">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonSearch" name="查询按钮" value="false">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="功能按钮" id="buttonRefresh" name="刷新按钮" value="false">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="排序" id="multiSort" name="多列排序" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="post" group="表格设置" id="mtype" name="提交方式" value="get">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="表格设置" id="filterToolbar" name="工具栏查询" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件" id="onSelectRow" name="选择行" value="jobGroup_onSelectRow(rowid,status,e)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件" id="onSelectAll" name="选择所有" value="jobGroup_onSelectAll(aRowids,status)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件" id="ondblClickRow" name="双击行" value="editJob()">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="true" group="表格设置" id="toolbarShow" name="工具栏显示" value="false">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="5" group="基本配置" id="computeHeightFix" name="高度修正" value="0">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="表格设置" id="searchDIV" name="搜索DIV" value="searchDiv">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="基本配置" id="caption" name="表头" value="岗位管理">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
        </form:attributes>
      </form:control>
      <form:child xsi:type="form:Group" id="toolbar_table" name="toolbar_table">
        <form:control type="container/toolbar_table">
          <form:attributes source="container/toolbar_table"/>
        </form:control>
        <form:child xsi:type="form:Field" id="newField21" name="新增" res="UocBOuROQ0avqe-ueN3DKQ" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-plus">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="purple">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="单击事件" value="addJob()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField22" name="编辑" res="cOXOm7akQ6CxcF6-6SW4ww" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-pencil">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="单击事件" value="editJob()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField23" name="删除" res="l_lxwr_aQaK9ARW4NYVHTg" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-trash-o">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="red">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="单击事件" value="delJob()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField24" name="查询" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="custom" group="事件设置" id="clickType" name="事件类型" value="expend">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-search">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="light-blue">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField25" name="刷新" customize="true">
          <form:control type="widget/button_a_table">
            <form:attributes source="widget/button_a_table">
              <dync:attribute default="custom" group="事件设置" id="clickType" name="事件类型" value="refrash">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-refresh">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="green">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
      <form:child xsi:type="form:Field" binding="jobName" id="newField18" name="岗位名称" customize="true">
        <form:control type="widget/col_jqgrid">
          <form:attributes source="widget/col_jqgrid">
            <dync:attribute default="false" group="查询设置" id="search" name="查询" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="表格设置" id="sortable" name="排序" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Field" binding="jobDesc" id="newField19" name="岗位描述" customize="true">
        <form:control type="widget/col_jqgrid">
          <form:attributes source="widget/col_jqgrid">
            <dync:attribute default="false" group="查询设置" id="search" name="查询" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="表格设置" id="sortable" name="排序" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Field" binding="jobId" id="newField20" name="岗位ID" customize="true">
        <form:control type="widget/col_jqgrid">
          <form:attributes source="widget/col_jqgrid">
            <dync:attribute default="false" group="表格设置" id="hidden" name="隐藏列" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="表格设置" id="key" name="主列" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="false" group="基本设置" id="title" name="鼠标悬浮显示" value="true">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
    </form:child>
  </form:child>
  <form:child xsi:type="form:Group" id="newGroup3" name="资源管理">
    <form:control type="container/widgetbox">
      <form:attributes source="container/widgetbox">
        <dync:attribute default="12" group="布局配置" id="span" name="占位数" value="3">
          <dync:render/>
          <dync:children/>
        </dync:attribute>
        <dync:attribute default="false" group="HTML配置" id="autoHeight" name="自动高度" value="true">
          <dync:render/>
          <dync:children/>
        </dync:attribute>
        <dync:attribute default="false" group="HTML配置" id="noPadding" name="无内边距" value="true">
          <dync:render/>
          <dync:children/>
        </dync:attribute>
      </form:attributes>
    </form:control>
    <form:child xsi:type="form:Group" id="newGroup6" name="Widget工具条">
      <form:control type="container/toolbar_widget">
        <form:attributes source="container/toolbar_widget"/>
      </form:control>
      <form:child xsi:type="form:Field" id="newField7" name="新增" res="O7g2ZVbbTpuLAj0_T4lA-w" customize="true">
        <form:control type="widget/button">
          <form:attributes source="widget/button">
            <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="addRes()">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-plus">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="purple">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
            <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:validation/>
      </form:child>
      <form:child xsi:type="form:Group" id="newGroup8" name="普通工具条">
        <form:control type="container/toolbar">
          <form:attributes source="container/toolbar">
            <dync:attribute default="normal" group="基本设置" id="type" name="类型" value="dropdown">
              <dync:render/>
              <dync:children/>
            </dync:attribute>
          </form:attributes>
        </form:control>
        <form:child xsi:type="form:Field" id="newField13" name="设置" res="8KCkswNCQ5q-eFVan6Yjow" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="jobSetRes()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-save">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="red">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField16" name="编辑" res="0i_VVhYzRxqZG5F7vO2MLQ" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="editRes()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-pencil">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField15" name="删除" res="5uzkbUJ5RtWmU2P2Ua1GAA" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="delRes()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-trash-o">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="red">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField14" name="排序" res="Rw5e2UeIStiXbppMncIEuw" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="sortResTree()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-sort">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField17" name="回收" res="0RTmrjeySWKKF_qGUkefqw" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-eraser">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="jobRevokeRes()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="orange2">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField6" name="导入" res="fwKRm-kjThWALzYnXCpgMw" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white no-border">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-download">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="purple">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="expRes()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField" name="查看" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="viewRes()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-info-circle">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="blue">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
        <form:child xsi:type="form:Field" id="newField12" name="刷新" customize="true">
          <form:control type="widget/button">
            <form:attributes source="widget/button">
              <dync:attribute default="" group="事件设置" id="click" name="点击事件" value="refreshAsyncResTree()">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-primary" group="HTML设置" id="style" name="样式" value="btn-white btn-primary grid-btn">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="icon" name="图标" value="fa-refresh">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="" group="HTML设置" id="iconColor" name="图标颜色" value="green">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
              <dync:attribute default="btn-sm" group="HTML设置" id="size" name="尺寸" value="btn-nl">
                <dync:render/>
                <dync:children/>
              </dync:attribute>
            </form:attributes>
          </form:control>
          <form:validation/>
        </form:child>
      </form:child>
    </form:child>
    <form:child xsi:type="form:Field" binding="model.resTree" id="resTree" name="树控件" customize="true">
      <form:control type="widget/tree">
        <form:attributes source="widget/tree">
          <dync:attribute default="6" group="显示设置" id="span" name="占位数" value="12">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="pId" group="数据设置" id="simpleDataPid" name="简单数据pId" value="pid">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="显示设置" id="checkEnable" name="勾选框" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="[&quot;id&quot;]" group="数据设置" id="autoParam" name="自动参数" value="[&quot;id&quot;,&quot;pid&quot;,&quot;type&quot;,&quot;checked&quot;,&quot;virtual&quot;]">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeDblClick" name="双击" value="viewRes()">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="功能设置" id="editorEnable" name="编辑" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="功能设置" id="dragMove" name="拖拽移动" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="beforeDrag" name="拖拽前" value="resTree_beforeDrag(treeId,treeNodes)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="功能设置" id="dragInner" name="拖拽为子节点" value="resTree_dragInner(treeId,treeNodes,targetNode)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="beforeDrop" name="拖拽结束前" value="resTree_beforeDrop(treeId,treeNodes,targetNode,moveType,isCopy)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeDrop" name="拖拽结束" value="resTree_nodeDrop(event,treeId,treeNodes,targetNode,moveType,isCopy)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="auto" group="显示设置" id="height" name="高度" value="">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="显示设置" id="computeHeight" name="自动计算高度" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="12" group="显示设置" id="computeHeightFix" name="高度修正" value="0">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="事件设置" id="nodeCheck" name="勾选" value="resTree_nodeCheck(event,treeId,treeNode)">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="false" group="显示设置" id="autoCheckTrigger" name="关联触发" value="true">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="name" group="数据设置" id="nodeTitle" name="悬停提示" value="noteTitle">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
          <dync:attribute default="" group="显示设置" id="expendLevel" name="默认展开级数" value="1">
            <dync:render/>
            <dync:children/>
          </dync:attribute>
        </form:attributes>
      </form:control>
      <form:validation/>
    </form:child>
  </form:child>
  <form:datasources>
    <form:datasource xsi:type="form:Inputs"/>
    <form:datasource xsi:type="form:TreeDataSource" id="orgTree" name="机构树" impl="com.chinacreator.asp.sysmgmt.sysset.jobresmgt.OrgTreeContentProviderImpl" type="custom"/>
    <form:datasource xsi:type="form:PagingDataSource" id="jobList" name="岗位列表" logic="com.chinacreator.asp.sysmgmt.sysset.jobresmgt.JobDataArrayContentProviderImpl" pageSize="10" type="custom"/>
    <form:datasource xsi:type="form:LogicDataSource" id="adminJobId" name="管理员岗位ID" sn="getAdministratorJobId" logic="rule:asp.sysmgmt.sysset.jobresmgt.getAdministratorJobId"/>
    <form:datasource xsi:type="form:LogicDataSource" id="everyoneJobId" name="普通用户岗位ID" sn="getRoleofeveryoneJobId" logic="rule:asp.sysmgmt.sysset.jobresmgt.getRoleofeveryoneJobId"/>
    <form:datasource xsi:type="form:TreeDataSource" id="resTree" name="资源树型数据源" impl="com.chinacreator.asp.sysmgmt.sysset.jobresmgt.ResTreeContentProviderImpl" type="custom"/>
  </form:datasources>
  <form:scripts>// 获取机构树&#xD;
getOrgTree:function(){&#xD;
	return $view.orgTree;&#xD;
},&#xD;
// 获取岗位列表&#xD;
getJobGroup:function(){&#xD;
	return $view.jobGroup;&#xD;
},&#xD;
// 获取资源树&#xD;
getResTree:function(){&#xD;
	return $view.resTree;&#xD;
},&#xD;
// 获取管理员岗位ID&#xD;
getAdministratorJobId:function(){&#xD;
	return $model.adminJobId.result;&#xD;
},&#xD;
// 获取普通用户岗位ID&#xD;
getRoleofeveryoneJobId:function(){&#xD;
	return $model.everyoneJobId.result;&#xD;
},&#xD;
// 机构树点击事件&#xD;
orgTree_nodeClick:function(event, treeId, treeNode){&#xD;
	if(angular.isUndefined($model.search)){&#xD;
		$model.search = {};&#xD;
	}&#xD;
	$model.search.orgId = treeNode.id;&#xD;
	this.getJobGroup().refresh({orgId:treeNode.id});&#xD;
	this.refreshResTree({jobId:&quot;&quot;});&#xD;
},&#xD;
// 新增机构&#xD;
addOrg:function(){&#xD;
	var selectNode = this.getOrgTree().getSelectedNodes()[0]; &#xD;
	if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.id)){&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要新增机构的父机构！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}else if(&quot;-1&quot;==selectNode.id){&#xD;
		Messenger.post({&#xD;
		    'message': selectNode.name+&quot;下不允许新增机构！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}else{&#xD;
		var _this = this;&#xD;
		Modal.open('f/editOrg',{type:&quot;add&quot;,parentId:selectNode.id,orgId:&quot;&quot;},function(result){&#xD;
			if('success'==result){&#xD;
		    	_this.refreshOrgTree();&#xD;
		    }&#xD;
		});	&#xD;
	}	&#xD;
},&#xD;
// 编辑机构&#xD;
editOrg:function(){&#xD;
	var selectNodes = this.getOrgTree().getSelectedNodes();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){&#xD;
		if(selectNodes.length>1){&#xD;
			Messenger.post({&#xD;
			    'message': &quot;请仅选择一个需要编辑的机构！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
			return;&#xD;
		}&#xD;
		var selectNode = selectNodes[0]; &#xD;
		if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.id)){&#xD;
			Messenger.post({&#xD;
			    'message': &quot;请选择需要编辑的机构！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
		}else if(&quot;-1&quot;==selectNode.id || &quot;0&quot;==selectNode.id){&#xD;
			Messenger.post({&#xD;
			    'message': selectNode.name+&quot;不允许被编辑！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
		}else{&#xD;
			var _this = this;&#xD;
			Modal.open('f/editOrg',{type:&quot;edit&quot;,parentId:selectNode.pid,orgId:selectNode.id},function(result){&#xD;
				if('success'==result){&#xD;
			    	_this.refreshOrgTree();&#xD;
			    }&#xD;
			});	&#xD;
		}&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要编辑的机构！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}&#xD;
},&#xD;
// 删除机构&#xD;
delOrg:function(){&#xD;
	var selectNodes = this.getOrgTree().getSelectedNodes();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){&#xD;
		var orgIds = [];&#xD;
		var orgNames = &quot;&quot;;&#xD;
		var _this = this;&#xD;
		var delErrMess = &quot;&quot;;&#xD;
		angular.forEach(selectNodes, function (value, key) {&#xD;
				orgIds.push(value.id);&#xD;
				orgNames += value.name+&quot;,&quot;;&#xD;
				if(&quot;-1&quot;==value.id || &quot;0&quot;==value.id){&#xD;
					delErrMess += value.name+&quot;,&quot;;&#xD;
				}&#xD;
        	});&#xD;
        if(delErrMess.length>0){&#xD;
        	Messenger.post({&#xD;
	                'message': delErrMess.substring(0,delErrMess.length-1) + &quot;不允许被删除！&quot;,&#xD;
	                'type': 'error',&#xD;
	            });&#xD;
	        return;&#xD;
        }&#xD;
        Modal.openDelConfirm({message:&quot;是否确认删除机构及其子机构? &lt;br>待删除机构：&quot;+orgNames.substring(0, orgNames.length-1)},function(){&#xD;
        	$http.post(&quot;ws/delOrg&quot;,{&quot;orgIds&quot;:orgIds})&#xD;
        			.success(function(data, status, headers, config){&#xD;
						Messenger.post({&#xD;
			                'message': &quot;删除机构成功！&quot;,&#xD;
			                'type': 'success',&#xD;
			            });&#xD;
			            _this.refreshOrgTree();&#xD;
			            _this.refreshJobGroup();&#xD;
					});&#xD;
        });		&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要删除的机构！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}&#xD;
},&#xD;
// 机构排序&#xD;
sortOrgTree:function(){&#xD;
	if(angular.isUndefined($model.orgTreeDrag)){&#xD;
		$model.orgTreeDrag = false;&#xD;
	}&#xD;
	$model.orgTreeDrag = !$model.orgTreeDrag;&#xD;
	Messenger.post({&#xD;
		    'message': ($model.orgTreeDrag?&quot;开启&quot;:&quot;关闭&quot;)+&quot;机构排序功能！&quot;,&#xD;
		    'type': 'info',&#xD;
		});&#xD;
},&#xD;
// 机构树拖拽前(节点是否可以拖拽)&#xD;
orgTree_beforeDrag:function(treeId,treeNodes){	&#xD;
	if(angular.isUndefined($model.orgTreeDrag)){&#xD;
		$model.orgTreeDrag = false;&#xD;
	}	&#xD;
	var orgTreeDrag = $model.orgTreeDrag;&#xD;
	if(orgTreeDrag){&#xD;
		if(&quot;-1&quot;==treeNodes[0].id || &quot;0&quot;==treeNodes[0].id){&#xD;
			orgTreeDrag = false;&#xD;
		}&#xD;
	}&#xD;
	return orgTreeDrag;&#xD;
},&#xD;
// 机构树拖拽为子节点(不能为子节点)&#xD;
orgTree_dragInner:function(treeId,treeNodes,targetNode){&#xD;
	return false;&#xD;
},&#xD;
// 机构树拖拽结束前(不能为父节点)&#xD;
orgTree_beforeDrop:function(treeId, treeNodes, targetNode, moveType, isCopy){&#xD;
	if(treeNodes[0].getParentNode()==targetNode.getParentNode()){		&#xD;
			return true;&#xD;
	}else{&#xD;
		return false;&#xD;
	}&#xD;
},&#xD;
// 机构树拖拽结束(排序保存操作)&#xD;
orgTree_nodeDrop:function(event,treeId,treeNodes,targetNode,moveType,isCopy){&#xD;
	var childrens = treeNodes[0].getParentNode().children;&#xD;
	if(!angular.isUndefined(childrens) &amp;&amp; angular.isArray(childrens)){&#xD;
		var sortOrgIds = [];&#xD;
		var _this = this;		&#xD;
		angular.forEach(childrens, function (value, key) {&#xD;
			sortOrgIds.push(value.id);&#xD;
        });&#xD;
		if(angular.isArray(sortOrgIds)){&#xD;
			$http.post(&quot;ws/sortOrg&quot;,{&quot;orgIds&quot;:sortOrgIds})&#xD;
					.success(function(data, status, headers, config){&#xD;
						Messenger.post({&#xD;
			                'message': &quot;机构排序成功！&quot;,&#xD;
			                'type': 'success',&#xD;
			            });&#xD;
					});&#xD;
		}&#xD;
	}&#xD;
},&#xD;
// 刷新机构树&#xD;
refreshOrgTree:function(){&#xD;
	var _this = this;&#xD;
	var selectNodes = _this.getOrgTree().getSelectedNodes();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){&#xD;
		angular.forEach(selectNodes, function (value, key) {&#xD;
			_this.getOrgTree().reAsyncChildNodes(value.getParentNode(),&quot;refresh&quot;,false);		&#xD;
        	});&#xD;
	}else{&#xD;
		_this.getOrgTree().reAsyncChildNodes(null,&quot;refresh&quot;,false);&#xD;
	}&#xD;
},&#xD;
// 新增岗位&#xD;
addJob:function(){&#xD;
	var selectNode = this.getOrgTree().getSelectedNodes()[0]; &#xD;
	if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.id)){&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要新增岗位的机构！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}else if(&quot;0&quot;==selectNode.id){&#xD;
		Messenger.post({&#xD;
		    'message': selectNode.name+&quot;下不允许新增岗位！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}else{&#xD;
		var _this = this;&#xD;
		Modal.open('f/editJob',{type:&quot;add&quot;,orgId:selectNode.id,jobId:&quot;&quot;},function(result){&#xD;
			if('success'==result){&#xD;
		    	_this.refreshJobGroup();&#xD;
		    }&#xD;
		});	&#xD;
	}	&#xD;
},&#xD;
// 编辑岗位&#xD;
editJob:function(){&#xD;
	var selectNodes = this.getJobGroup().getSelectDatas();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){&#xD;
		if(selectNodes.length>1){&#xD;
			Messenger.post({&#xD;
			    'message': &quot;请仅选择一个需要编辑的岗位！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
			return;&#xD;
		}&#xD;
		var selectNode = selectNodes[0]; &#xD;
		if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.jobId)){&#xD;
			Messenger.post({&#xD;
			    'message': &quot;请选择需要编辑的岗位！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
		}else{&#xD;
			var orgSelectNode = this.getOrgTree().getSelectedNodes()[0]; &#xD;
			if(angular.isUndefined(orgSelectNode) || angular.isUndefined(orgSelectNode.id)){&#xD;
				Messenger.post({&#xD;
				    'message': &quot;请选择需要编辑岗位的机构！&quot;,&#xD;
				    'type': 'error',&#xD;
				});&#xD;
			}else{&#xD;
				var _this = this;&#xD;
				Modal.open('f/editJob',{type:&quot;edit&quot;,orgId:orgSelectNode.id,jobId:selectNode.jobId},function(result){&#xD;
					if('success'==result){&#xD;
				    	_this.refreshJobGroup();&#xD;
				    }&#xD;
				});	&#xD;
			}&#xD;
		}&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要编辑的岗位！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}&#xD;
},&#xD;
// 删除岗位&#xD;
delJob:function(){&#xD;
	var selectNodes = this.getJobGroup().getSelectDatas();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){&#xD;
		var jobIds = [];&#xD;
		var jobNames = &quot;&quot;;&#xD;
		var _this = this;&#xD;
		var delErrMess = &quot;&quot;;&#xD;
		angular.forEach(selectNodes, function (value, key) {&#xD;
				jobIds.push(value.jobId);&#xD;
				jobNames += value.jobName+&quot;,&quot;;&#xD;
				if(_this.getAdministratorJobId()==value.jobId || _this.getRoleofeveryoneJobId()==value.jobId){&#xD;
					delErrMess += value.jobName+&quot;,&quot;;&#xD;
				}&#xD;
        	});&#xD;
        if(delErrMess.length>0){&#xD;
        	Messenger.post({&#xD;
	                'message': delErrMess.substring(0,delErrMess.length-1) + &quot;不允许被删除！&quot;,&#xD;
	                'type': 'error',&#xD;
	            });&#xD;
	        return;&#xD;
        }&#xD;
        Modal.openDelConfirm({message:&quot;是否确认删除岗位?&lt;br>待删除岗位：&quot;+jobNames.substring(0, jobNames.length-1)},function(){&#xD;
        	$http.post(&quot;ws/delJob&quot;,{&quot;jobIds&quot;:jobIds})&#xD;
        			.success(function(data, status, headers, config){&#xD;
						Messenger.post({&#xD;
			                'message': &quot;删除岗位成功！&quot;,&#xD;
			                'type': 'success',&#xD;
			            });&#xD;
			            _this.refreshJobGroup();&#xD;
					});&#xD;
        });		&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要删除的岗位！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}&#xD;
},&#xD;
// 查询岗位&#xD;
searchJob:function(){	&#xD;
	this.getJobGroup().refresh($model.search);&#xD;
},&#xD;
// 查询岗位重置&#xD;
resetSearchJob:function(){&#xD;
	$view.jobName_Field.clean();&#xD;
	$view.jobDesc_Field.clean();&#xD;
},&#xD;
// 刷新岗位列表&#xD;
refreshJobGroup:function(){&#xD;
	this.getJobGroup().refresh();&#xD;
},&#xD;
// 岗位列表行数据勾选事件&#xD;
jobGroup_onSelectRow:function (rowid,status,e){&#xD;
	var selectRowIds = this.getJobGroup().getSelectRowIds();	&#xD;
	if(selectRowIds.length==1){&#xD;
		this.refreshResTree({jobId:selectRowIds[0]});&#xD;
	}else{&#xD;
		this.refreshResTree({jobId:&quot;&quot;});&#xD;
	}&#xD;
},&#xD;
// 岗位列表行数据勾选全选事件&#xD;
jobGroup_onSelectAll:function (aRowids,status){&#xD;
	this.refreshResTree({jobId:&quot;&quot;});&#xD;
},&#xD;
// 查看资源&#xD;
viewRes:function(){&#xD;
	var selectNodes = this.getResTree().getSelectedNodes();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){&#xD;
		if(selectNodes.length>1){&#xD;
			Messenger.post({&#xD;
			    'message': &quot;请仅选择一个需要查看的资源！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
			return;&#xD;
		}&#xD;
		var selectNode = selectNodes[0];&#xD;
		if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.id)){&#xD;
			Messenger.post({&#xD;
			    'message': &quot;请选择需要查看的资源！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
		}else if(selectNode.virtual){&#xD;
			Messenger.post({&#xD;
			    'message': selectNode.name+&quot;无资源信息！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
			return;&#xD;
		}else{&#xD;
			var _this = this;&#xD;
			Modal.open('f/viewRes',{privilegeId:selectNode.privilegeId});	&#xD;
		}&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要查看的资源！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}&#xD;
},&#xD;
// 新增资源&#xD;
addRes:function(){&#xD;
	var selectNode = this.getResTree().getSelectedNodes()[0];&#xD;
	if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.id)){&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要新增资源的父资源！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}else if(&quot;menu&quot;==selectNode.type){&#xD;
		var _this = this;&#xD;
		var privilegeId = selectNode.privilegeId;&#xD;
		if(angular.isUndefined(privilegeId)){&#xD;
			privilegeId = &quot;0&quot;;&#xD;
		}&#xD;
		Modal.open('f/editMenu',{type:&quot;add&quot;,parentId:privilegeId,parentType:selectNode.type,menuId:&quot;&quot;},function(result){&#xD;
			if('success'==result){&#xD;
		    	_this.refreshAsyncResTree();&#xD;
		    	_this.cleanPermittedCache();&#xD;
		    }&#xD;
		});	&#xD;
	}else if(&quot;custom&quot;==selectNode.type){&#xD;
		var _this = this;&#xD;
		Modal.open('f/editRes',{type:&quot;add&quot;,parentId:selectNode.privilegeId,parentType:selectNode.type,privilegeId:&quot;&quot;},function(result){&#xD;
			if('success'==result){&#xD;
		    	_this.refreshAsyncResTree();&#xD;
		    	_this.cleanPermittedCache();&#xD;
		    }&#xD;
		});&#xD;
	}else {&#xD;
		Messenger.post({&#xD;
		    'message': selectNode.name+&quot;下不允许新增！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}&#xD;
},&#xD;
// 编辑资源&#xD;
editRes:function(){&#xD;
	var selectNodes = this.getResTree().getSelectedNodes();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){&#xD;
		if(selectNodes.length>1){&#xD;
			Messenger.post({&#xD;
			    'message': &quot;请仅选择一个需要编辑的资源！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
			return;&#xD;
		}&#xD;
		var selectNode = selectNodes[0];		&#xD;
		var _this = this;&#xD;
		if(angular.isUndefined(selectNode) || angular.isUndefined(selectNode.id)){&#xD;
			Messenger.post({&#xD;
			    'message': &quot;请选择需要编辑的资源！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
		}else if(&quot;menu&quot;==selectNode.type &amp;&amp; &quot;0&quot;!=selectNode.privilegeId){&#xD;
			Modal.open('f/editMenu',{type:&quot;edit&quot;,parentId:&quot;&quot;,parentType:selectNode.type,menuId:selectNode.privilegeId},function(result){&#xD;
				if('success'==result){&#xD;
			    	_this.refreshAsyncResTree();&#xD;
			    }&#xD;
			});	&#xD;
		}else if(&quot;custom&quot;==selectNode.type &amp;&amp; &quot;other&quot;!=selectNode.id &amp;&amp; &quot;0&quot;==selectNode.source){&#xD;
			Modal.open('f/editRes',{type:&quot;edit&quot;,parentId:&quot;&quot;,parentType:selectNode.type,privilegeId:selectNode.privilegeId},function(result){&#xD;
				if('success'==result){&#xD;
			    	_this.refreshAsyncResTree();&#xD;
			    }&#xD;
			});	&#xD;
		}else{&#xD;
			Messenger.post({&#xD;
			    'message': selectNode.name+&quot;不允许编辑！&quot;,&#xD;
			    'type': 'error',&#xD;
			});&#xD;
		}&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要编辑的资源！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}&#xD;
},&#xD;
// 删除资源&#xD;
delRes:function(){&#xD;
	var selectNodes = this.getResTree().getSelectedNodes();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){&#xD;
		var menuIds = [];&#xD;
		var customIds = [];&#xD;
		var resNames = &quot;&quot;;&#xD;
		var _this = this;&#xD;
		var delErrMess = &quot;&quot;;&#xD;
		angular.forEach(selectNodes, function (value, key) {&#xD;
				if(&quot;menu&quot;==value.type &amp;&amp; &quot;0&quot;!=value.privilegeId){&#xD;
					menuIds.push(value.privilegeId);&#xD;
					resNames += value.name+&quot;,&quot;;&#xD;
				}else if(&quot;custom&quot;==value.type &amp;&amp; &quot;other&quot;!=value.id &amp;&amp; &quot;0&quot;==value.source){&#xD;
					customIds.push(value.privilegeId);&#xD;
					resNames += value.name+&quot;,&quot;;&#xD;
				}else{&#xD;
					delErrMess += value.name+&quot;,&quot;;&#xD;
				}&#xD;
        	});&#xD;
        if(delErrMess.length>0){&#xD;
        	Messenger.post({&#xD;
	                'message': delErrMess.substring(0,delErrMess.length-1) + &quot;不允许被删除！&quot;,&#xD;
	                'type': 'error',&#xD;
	            });&#xD;
	        return;&#xD;
        }&#xD;
        Modal.openDelConfirm({message:&quot;是否确认删除资源及其子资源?&lt;br>待删除资源：&quot;+resNames.substring(0, resNames.length-1)},function(){&#xD;
        	$http.post(&quot;ws/delRes&quot;,{&quot;customIds&quot;:customIds,&quot;menuIds&quot;:menuIds})&#xD;
        			.success(function(data, status, headers, config){&#xD;
						Messenger.post({&#xD;
			                'message': &quot;删除资源成功！&quot;,&#xD;
			                'type': 'success',&#xD;
			            });&#xD;
			            _this.refreshAsyncResTree();&#xD;
			            _this.cleanPermittedCache();&#xD;
					});&#xD;
        });		&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要删除的资源！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
	}&#xD;
},&#xD;
// 岗位设置资源&#xD;
jobSetRes:function(){&#xD;
	var jobIds = [];&#xD;
	var jobNames = &quot;&quot;;	&#xD;
	var _this = this;&#xD;
	var delErrMess = &quot;&quot;;&#xD;
	var jobSelectNodes = this.getJobGroup().getSelectDatas();&#xD;
	if(angular.isArray(jobSelectNodes) &amp;&amp; jobSelectNodes.length>0){		&#xD;
		angular.forEach(jobSelectNodes, function (value, key) {&#xD;
				jobIds.push(value.jobId);&#xD;
				jobNames += value.jobName+&quot;,&quot;;&#xD;
				if(_this.getAdministratorJobId()==value.jobId){&#xD;
					delErrMess += value.jobName+&quot;,&quot;;&#xD;
				}&#xD;
        	});        	&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要设置资源的岗位！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
		return;&#xD;
	}&#xD;
	if(delErrMess.length>0){&#xD;
        	Messenger.post({&#xD;
	                'message': delErrMess.substring(0,delErrMess.length-1) + &quot;不能设置资源！&quot;,&#xD;
	                'type': 'error',&#xD;
	            });&#xD;
	        return;&#xD;
    }&#xD;
    &#xD;
    var resTreeNodeChecded = $model.resTreeNodeChecded;&#xD;
	&#xD;
	if(angular.isUndefined(resTreeNodeChecded)){&#xD;
		Messenger.post({&#xD;
		    'message': &quot;资源勾选没有变化，请选择需要设置的资源！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
		return;&#xD;
	}&#xD;
	var isEmpty = true;&#xD;
	var addResIds = [];&#xD;
	var delResIds = [];&#xD;
	var addResNames = &quot;&quot;;&#xD;
	var delResNames = &quot;&quot;; 	&#xD;
	angular.forEach(resTreeNodeChecded, function (value, key) {&#xD;
		if(value.resChecked){&#xD;
			addResIds.push(value.id);&#xD;
			addResNames += value.name + &quot;,&quot;;&#xD;
		}else{&#xD;
			delResIds.push(value.id);&#xD;
			delResNames += value.name + &quot;,&quot;;&#xD;
		}&#xD;
		if(isEmpty){&#xD;
			isEmpty = false;&#xD;
		}&#xD;
    });	&#xD;
    &#xD;
    if(isEmpty){&#xD;
    	Messenger.post({&#xD;
		    'message': &quot;资源勾选没有变化，请选择需要设置的资源！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
		return;&#xD;
    }else{&#xD;
    	jobNames = jobNames.length>0?jobNames.substring(0, jobNames.length-1):&quot;&quot;;&#xD;
    	addResNames = addResNames.length>0?&quot;&lt;br>待新增资源：&quot;+addResNames.substring(0, addResNames.length-1):&quot;&quot;;&#xD;
    	delResNames = delResNames.length>0?&quot;&lt;br>待删除资源：&quot;+delResNames.substring(0, delResNames.length-1):&quot;&quot;;&#xD;
    }&#xD;
    Modal.openConfirm({message:&quot;是否确认岗位设置资源?&lt;br>待设置岗位：&quot;+jobNames+addResNames+delResNames},function(){&#xD;
    	$http.post(&quot;ws/jobSetRes&quot;,{&quot;jobIds&quot;:jobIds,&quot;addPrivileges&quot;:addResIds,&quot;delPrivileges&quot;:delResIds})&#xD;
    			.success(function(data, status, headers, config){&#xD;
					Messenger.post({&#xD;
		                'message': &quot;设置资源成功！&quot;,&#xD;
		                'type': 'success',&#xD;
		            });	           &#xD;
				});&#xD;
    });&#xD;
},&#xD;
// 回收岗位资源&#xD;
jobRevokeRes:function(){&#xD;
	var jobIds = [];&#xD;
	var jobNames = &quot;&quot;;	&#xD;
	var _this = this;&#xD;
	var delErrMess = &quot;&quot;;&#xD;
	var jobSelectNodes = this.getJobGroup().getSelectDatas();&#xD;
	if(angular.isArray(jobSelectNodes) &amp;&amp; jobSelectNodes.length>0){		&#xD;
		angular.forEach(jobSelectNodes, function (value, key) {&#xD;
				jobIds.push(value.jobId);&#xD;
				jobNames += value.jobName+&quot;,&quot;;&#xD;
				if(_this.getAdministratorJobId()==value.jobId){&#xD;
					delErrMess += value.jobName+&quot;,&quot;;&#xD;
				}&#xD;
        	});        	&#xD;
	}else{&#xD;
		Messenger.post({&#xD;
		    'message': &quot;请选择需要设置资源的岗位！&quot;,&#xD;
		    'type': 'error',&#xD;
		});&#xD;
		return;&#xD;
	}&#xD;
	if(delErrMess.length>0){&#xD;
        	Messenger.post({&#xD;
	                'message': delErrMess.substring(0,delErrMess.length-1) + &quot;不能设置资源！&quot;,&#xD;
	                'type': 'error',&#xD;
	            });&#xD;
	        return;&#xD;
    }&#xD;
	Modal.openConfirm({message:&quot;是否确认岗位回收所有资源?&lt;br>待回收资源的岗位：&quot;+jobNames.substring(0, jobNames.length-1)},function(){&#xD;
		$http.post(&quot;ws/jobRevokeAllRes&quot;,{&quot;jobIds&quot;:jobIds})&#xD;
				.success(function(data, status, headers, config){&#xD;
					Messenger.post({&#xD;
		                'message': &quot;回收资源成功！&quot;,&#xD;
		                'type': 'success',&#xD;
		            });	           &#xD;
		            _this.refreshAsyncResTree();&#xD;
				});&#xD;
        });	&#xD;
},&#xD;
// 资源排序&#xD;
sortResTree:function(){&#xD;
	if(angular.isUndefined($model.resTreeDrag)){&#xD;
		$model.resTreeDrag = false;&#xD;
	}&#xD;
	$model.resTreeDrag = !$model.resTreeDrag;&#xD;
	Messenger.post({&#xD;
		    'message': ($model.resTreeDrag?&quot;开启&quot;:&quot;关闭&quot;)+&quot;资源排序功能！&quot;,&#xD;
		    'type': 'info',&#xD;
		});&#xD;
},&#xD;
// 资源树拖拽前(节点是否可以拖拽)&#xD;
resTree_beforeDrag:function(treeId,treeNodes){&#xD;
	if(angular.isUndefined($model.resTreeDrag)){&#xD;
		$model.resTreeDrag = false;&#xD;
	}	&#xD;
	var resTreeDrag = $model.resTreeDrag;&#xD;
	if(resTreeDrag){&#xD;
		if(treeNodes[0].type!=&quot;menu&quot; || treeNodes[0].virtual){&#xD;
			resTreeDrag = false;&#xD;
		}&#xD;
	}&#xD;
	return resTreeDrag;&#xD;
},&#xD;
// 资源树拖拽为子节点(不能为子节点)&#xD;
resTree_dragInner:function(treeId,treeNodes,targetNode){&#xD;
	return false;&#xD;
},&#xD;
// 资源树拖拽结束前(不能为父节点)&#xD;
resTree_beforeDrop:function(treeId,treeNodes,targetNode,moveType,isCopy){&#xD;
	if(treeNodes[0].getParentNode()==targetNode.getParentNode()){		&#xD;
			return true;&#xD;
	}else{&#xD;
		return false;&#xD;
	}&#xD;
},&#xD;
// 资源树拖拽结束(排序保存操作)&#xD;
resTree_nodeDrop:function(event,treeId,treeNodes,targetNode,moveType,isCopy){&#xD;
	var childrens = treeNodes[0].getParentNode().children;&#xD;
	if(!angular.isUndefined(childrens) &amp;&amp; angular.isArray(childrens)){&#xD;
		var sortResIds = [];&#xD;
		var _this = this;		&#xD;
		angular.forEach(childrens, function (value, key) {&#xD;
			sortResIds.push(value.privilegeId);&#xD;
        });&#xD;
		if(angular.isArray(sortResIds)){&#xD;
			$http.post(&quot;ws/sortRes&quot;,{&quot;privilegeIds&quot;:sortResIds})&#xD;
					.success(function(data, status, headers, config){&#xD;
						Messenger.post({&#xD;
			                'message': &quot;资源排序成功！&quot;,&#xD;
			                'type': 'success',&#xD;
			            });&#xD;
					});&#xD;
		}&#xD;
	}&#xD;
},&#xD;
// 强制异步刷新资源树&#xD;
refreshAsyncResTree:function(){&#xD;
	$model.resTreeNodeChecded = {};&#xD;
	var _this = this;&#xD;
	var params = _this.getResTree().getParams();&#xD;
		if(angular.isUndefined(params)){&#xD;
			params = {};&#xD;
		}&#xD;
		params.isLoad = &quot;true&quot;;&#xD;
	&#xD;
	var selectNodes = _this.getResTree().getSelectedNodes();&#xD;
	if(angular.isArray(selectNodes) &amp;&amp; selectNodes.length>0){		&#xD;
		angular.forEach(selectNodes, function (value, key) {		&#xD;
			_this.getResTree().refresh2(params,true,false,true,value.getParentNode());&#xD;
        	});&#xD;
	}else{		&#xD;
		_this.getResTree().refresh2(params,true,false,true);&#xD;
	}	&#xD;
},&#xD;
// 带参数刷新资源树&#xD;
refreshResTree:function(obj){&#xD;
	$model.resTreeNodeChecded = {};	&#xD;
	this.getResTree().refresh2(obj,true,false,true);&#xD;
},
// 资源树勾选事件
resTree_nodeCheck:function(event,treeId,treeNode){&#xD;
	var resTreeNodeChecded = $model.resTreeNodeChecded;&#xD;
	&#xD;
	if(angular.isUndefined(resTreeNodeChecded)){&#xD;
		resTreeNodeChecded = {};&#xD;
	}&#xD;
	&#xD;
	if(!treeNode.virtual){&#xD;
		var privilegeId = treeNode.privilegeId;&#xD;
		var resName = treeNode.noteTitle;&#xD;
		var resChecked = treeNode.checked;&#xD;
		&#xD;
		if(treeNode.checkedOld==treeNode.checked){&#xD;
			delete resTreeNodeChecded[privilegeId];&#xD;
		}else{		&#xD;
			resTreeNodeChecded[privilegeId] = {&quot;id&quot;:privilegeId,&quot;name&quot;:resName,&quot;resChecked&quot;:resChecked};&#xD;
		}&#xD;
	}&#xD;
	$model.resTreeNodeChecded = resTreeNodeChecded;&#xD;
},&#xD;
// 清除当前登录用户的权限缓存&#xD;
cleanPermittedCache:function(){&#xD;
	$http.post(&quot;ws/cleanPermittedCache&quot;,{});	&#xD;
},&#xD;
// 导入&#xD;
expRes:function(){&#xD;
	window.location.href = '#/f/ideSynSys';&#xD;
}</form:scripts>
</form:Form>
